"use strict";(self.webpackChunk_open_sauced_app=self.webpackChunk_open_sauced_app||[]).push([[3225],{"./components/atoms/Dropdown/dropdown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$F:()=>DropdownMenuTrigger,AW:()=>DropdownMenuContent,Xi:()=>DropdownMenuItem,h_:()=>DropdownMenu});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js"),clsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js");const _excluded=["className","sideOffset"],_excluded2=["className","inset"];var __jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const DropdownMenu=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.fC,DropdownMenuTrigger=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.xz,DropdownMenuContent=(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.Uv,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((_ref,ref)=>{let{className,sideOffset=4}=_ref,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);return __jsx(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.Uv,null,__jsx(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.VY,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({ref,sideOffset,className:(0,clsx__WEBPACK_IMPORTED_MODULE_4__.Z)("z-50 min-w-max overflow-hidden rounded-lg border border-slate-100 bg-white p-1 text-slate-700 shadow-xs animate-in data-[side=right]:slide-in-from-left-2 data-[side=left]:slide-in-from-right-2 data-[side=bottom]:slide-in-from-top-2 data-[side=top]:slide-in-from-bottom-2 ",className)},props)))})));DropdownMenuContent.displayName=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.VY.displayName;const DropdownMenuItem=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((_ref2,ref)=>{let{className,inset}=_ref2,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref2,_excluded2);return __jsx(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.ck,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({ref,className:(0,clsx__WEBPACK_IMPORTED_MODULE_4__.Z)("relative flex cursor-default select-none items-center py-1.5 px-2 text-sm focus:text-sauced-orange outline-none focus:bg-orange-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 ",inset&&"pl-8",className)},props))}));DropdownMenuItem.displayName=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.ck.displayName;try{DropdownMenu.displayName="DropdownMenu",DropdownMenu.__docgenInfo={description:"",displayName:"DropdownMenu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Dropdown/dropdown.tsx#DropdownMenu"]={docgenInfo:DropdownMenu.__docgenInfo,name:"DropdownMenu",path:"components/atoms/Dropdown/dropdown.tsx#DropdownMenu"})}catch(__react_docgen_typescript_loader_error){}try{DropdownMenuItem.displayName="DropdownMenuItem",DropdownMenuItem.__docgenInfo={description:"",displayName:"DropdownMenuItem",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},inset:{defaultValue:null,description:"",name:"inset",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Dropdown/dropdown.tsx#DropdownMenuItem"]={docgenInfo:DropdownMenuItem.__docgenInfo,name:"DropdownMenuItem",path:"components/atoms/Dropdown/dropdown.tsx#DropdownMenuItem"})}catch(__react_docgen_typescript_loader_error){}try{DropdownMenuContent.displayName="DropdownMenuContent",DropdownMenuContent.__docgenInfo={description:"",displayName:"DropdownMenuContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Dropdown/dropdown.tsx#DropdownMenuContent"]={docgenInfo:DropdownMenuContent.__docgenInfo,name:"DropdownMenuContent",path:"components/atoms/Dropdown/dropdown.tsx#DropdownMenuContent"})}catch(__react_docgen_typescript_loader_error){}try{DropdownMenuTrigger.displayName="DropdownMenuTrigger",DropdownMenuTrigger.__docgenInfo={description:"",displayName:"DropdownMenuTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Dropdown/dropdown.tsx#DropdownMenuTrigger"]={docgenInfo:DropdownMenuTrigger.__docgenInfo,name:"DropdownMenuTrigger",path:"components/atoms/Dropdown/dropdown.tsx#DropdownMenuTrigger"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/Textarea/text-area.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>Textarea});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js");const _excluded=["className","onChangeText"];var __jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const Textarea=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((_ref,ref)=>{let{className,onChangeText}=_ref,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded);const textareaRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return __jsx("textarea",(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.Z)({onChange:event=>{null==onChangeText||onChangeText(event.target.value),(()=>{const textarea=textareaRef.current;textarea&&(textarea.style.height="auto",textarea.style.height="".concat(textarea.scrollHeight,"px"))})()},className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)("flex h-20 md:min-h-26 md:h-auto w-full rounded-md  py-2  text-sm placeholder:text-slate-400 disabled:cursor-not-allowed disabled:opacity-50",className),ref:textareaRef},props))}));Textarea.displayName="Textarea";try{Textarea.displayName="Textarea",Textarea.__docgenInfo={description:"",displayName:"Textarea",props:{defaultRow:{defaultValue:null,description:"",name:"defaultRow",required:!1,type:{name:"number"}},onChangeText:{defaultValue:null,description:"",name:"onChangeText",required:!1,type:{name:"((value: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Textarea/text-area.tsx#Textarea"]={docgenInfo:Textarea.__docgenInfo,name:"Textarea",path:"components/atoms/Textarea/text-area.tsx#Textarea"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/Typography/title.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_wrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/atoms/Typography/wrapper.tsx");const _excluded=["children","level","weight","className"];var __jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const Title=_ref=>{let{children,level=1,weight="medium",className}=_ref,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);const TitleTag="h".concat(level);return __jsx(_wrapper__WEBPACK_IMPORTED_MODULE_1__.Z,null,__jsx(TitleTag,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,clsx__WEBPACK_IMPORTED_MODULE_4__.Z)(className,"font-".concat(weight))},props),children))};Title.displayName="Title";const __WEBPACK_DEFAULT_EXPORT__=Title;try{title.displayName="title",title.__docgenInfo={description:"",displayName:"title",props:{level:{defaultValue:{value:"1"},description:"",name:"level",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"5"},{value:"3"},{value:"4"}]}},weight:{defaultValue:{value:"medium"},description:"",name:"weight",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"medium"'},{value:'"thin"'},{value:'"extralight"'},{value:'"normal"'},{value:'"semibold"'},{value:'"bold"'},{value:'"extrabold"'},{value:'"black"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Typography/title.tsx#title"]={docgenInfo:title.__docgenInfo,name:"title",path:"components/atoms/Typography/title.tsx#title"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/Typography/wrapper.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js");const _excluded=["children","className","size"];var __jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const TypographyWrapper=_ref=>{let{children,className,size="sm"}=_ref,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded);return __jsx("span",(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.Z)({className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)("prose","prose-".concat(size),className)},props),children)};TypographyWrapper.displayName="TypographyWrapper";const __WEBPACK_DEFAULT_EXPORT__=TypographyWrapper;try{wrapper.displayName="wrapper",wrapper.__docgenInfo={description:"",displayName:"wrapper",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"sm"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"base"'},{value:'"sm"'},{value:'"lg"'},{value:'"xl"'},{value:'"2xl"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Typography/wrapper.tsx#wrapper"]={docgenInfo:wrapper.__docgenInfo,name:"wrapper",path:"components/atoms/Typography/wrapper.tsx#wrapper"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/ContributorHighlight/contributor-highlight-card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>contributor_highlight_card});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),hi=__webpack_require__("./node_modules/react-icons/hi/index.mjs"),tfi=__webpack_require__("./node_modules/react-icons/tfi/index.mjs"),fi=__webpack_require__("./node_modules/react-icons/fi/index.mjs"),bs=__webpack_require__("./node_modules/react-icons/bs/index.mjs"),fa6=__webpack_require__("./node_modules/react-icons/fa6/index.mjs"),gr=__webpack_require__("./node_modules/react-icons/gr/index.mjs"),lib=__webpack_require__("./node_modules/react-emoji-render/lib/index.js"),esm=__webpack_require__("./node_modules/posthog-js/react/dist/esm/index.js"),md=__webpack_require__("./node_modules/react-icons/md/index.mjs"),format=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),fa=__webpack_require__("./node_modules/react-icons/fa/index.mjs"),bi=__webpack_require__("./node_modules/react-icons/bi/index.mjs"),vsc=__webpack_require__("./node_modules/react-icons/vsc/index.mjs"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),useDebounce=__webpack_require__("./node_modules/rooks/dist/esm/hooks/useDebounce.js"),text_area=__webpack_require__("./components/atoms/Textarea/text-area.tsx"),Button_button=__webpack_require__("./components/shared/Button/button.tsx"),dropdown=__webpack_require__("./components/atoms/Dropdown/dropdown.tsx"),useSupabaseAuth=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),github=__webpack_require__("./lib/utils/github.ts"),fetchGithubPRInfo=__webpack_require__("./lib/hooks/fetchGithubPRInfo.ts"),supabase=__webpack_require__("./lib/utils/supabase.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var deleteHighlight_console=__webpack_require__("./node_modules/console-browserify/index.js");var useToast=__webpack_require__("./lib/hooks/useToast.ts"),dist=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),public_api_fetcher=__webpack_require__("./lib/utils/public-api-fetcher.ts");const hooks_useHighlightReactions=id=>{const{data,error,mutate}=(0,dist.ZP)("highlights/".concat(id,"/reactions"),public_api_fetcher.N);return{data:null!=data?data:[],isError:!!error,isLoading:!error&&!data,mutate}};var useUserHighlightReactions_console=__webpack_require__("./node_modules/console-browserify/index.js");const hooks_useUserHighlightReactions=id=>{const{sessionToken}=(0,useSupabaseAuth.Z)(),{data,error,mutate}=(0,dist.ZP)(id?"user/highlights/".concat(id,"/reactions"):null,public_api_fetcher.N);return{data:null!=data?data:[],isError:!!error,isLoading:!error&&!data,mutate,addReaction:async emojiId=>{const req=await fetch("".concat("https://beta.api.opensauced.pizza/v2","/user/highlights/").concat(id,"/reactions/").concat(emojiId),{method:"POST",headers:{Authorization:"Bearer ".concat(sessionToken)}}).catch((err=>useUserHighlightReactions_console.log(err)));req&&req.ok&&mutate()},deleteReaction:async emojiId=>{const req=await fetch("".concat("https://beta.api.opensauced.pizza/v2","/user/highlights/").concat(id,"/reactions/").concat(emojiId),{method:"DELETE",headers:{Authorization:"Bearer ".concat(sessionToken)}}).catch((err=>useUserHighlightReactions_console.log(err)));req&&req.ok&&mutate()}}};var tooltip=__webpack_require__("./components/atoms/Tooltip/tooltip.tsx"),useFollowUser=__webpack_require__("./lib/hooks/useFollowUser.ts"),fetchGithubIssueInfo=__webpack_require__("./lib/hooks/fetchGithubIssueInfo.ts"),urls=__webpack_require__("./lib/utils/urls.ts"),dev_to=__webpack_require__("./lib/utils/dev-to.ts"),fetchDevToBlogInfo=__webpack_require__("./lib/hooks/fetchDevToBlogInfo.ts"),search=__webpack_require__("./components/atoms/Search/search.tsx"),Typography_title=__webpack_require__("./components/atoms/Typography/title.tsx"),shorten_url=__webpack_require__("./lib/utils/shorten-url.ts"),write_to_clipboard=__webpack_require__("./lib/utils/write-to-clipboard.ts"),gh_open_graph_img=__webpack_require__("./components/molecules/GhOpenGraphImg/gh-open-graph-img.tsx"),generic_blog_open_graph_img=__webpack_require__("./components/molecules/GenericBlogOpenGraphImg/generic-blog-open-graph-img.tsx"),dialog=__webpack_require__("./components/molecules/Dialog/dialog.tsx"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),index_module=__webpack_require__("./node_modules/@radix-ui/react-alert-dialog/dist/index.module.js");const _excluded=["className","children"],_excluded2=["className","children"],_excluded3=["className"],_excluded4=["className"],_excluded5=["className"],_excluded6=["className"],_excluded7=["className"],_excluded8=["className"],_excluded9=["className"];var __jsx=react.createElement;const AlertDialog=index_module.fC,AlertDialogTrigger=index_module.xz,AlertDialogPortal=_ref=>{let{className,children}=_ref,props=(0,objectWithoutProperties.Z)(_ref,_excluded);return __jsx(index_module.h_,(0,esm_extends.Z)({className:(0,clsx_m.Z)(className)},props),__jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center"},children))};AlertDialogPortal.displayName="AlertDialogPortal",AlertDialogPortal.displayName=index_module.h_.displayName;const AlertDialogOverlay=react.forwardRef(((_ref2,ref)=>{let{className,children}=_ref2,props=(0,objectWithoutProperties.Z)(_ref2,_excluded2);return __jsx(index_module.aV,(0,esm_extends.Z)({className:(0,clsx_m.Z)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-opacity animate-in fade-in",className)},props,{ref}))}));AlertDialogOverlay.displayName=index_module.aV.displayName;const AlertDialogContent=react.forwardRef(((_ref3,ref)=>{let{className}=_ref3,props=(0,objectWithoutProperties.Z)(_ref3,_excluded3);return __jsx(AlertDialogPortal,null,__jsx(AlertDialogOverlay,null),__jsx(index_module.VY,(0,esm_extends.Z)({ref,className:(0,clsx_m.Z)("fixed z-50 grid w-full max-w-lg scale-100 gap-4 bg-white p-6 opacity-100 animate-in fade-in-90 slide-in-from-bottom-10 sm:rounded-lg sm:zoom-in-90 sm:slide-in-from-bottom-0 md:w-full","",className)},props)))}));AlertDialogContent.displayName=index_module.VY.displayName;const AlertDialogHeader=_ref4=>{let{className}=_ref4,props=(0,objectWithoutProperties.Z)(_ref4,_excluded4);return __jsx("div",(0,esm_extends.Z)({className:(0,clsx_m.Z)("flex flex-col space-y-2 text-center sm:text-left",className)},props))};AlertDialogHeader.displayName="AlertDialogHeader",AlertDialogHeader.displayName="AlertDialogHeader";const AlertDialogFooter=_ref5=>{let{className}=_ref5,props=(0,objectWithoutProperties.Z)(_ref5,_excluded5);return __jsx("div",(0,esm_extends.Z)({className:(0,clsx_m.Z)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className)},props))};AlertDialogFooter.displayName="AlertDialogFooter",AlertDialogFooter.displayName="AlertDialogFooter";const AlertDialogTitle=react.forwardRef(((_ref6,ref)=>{let{className}=_ref6,props=(0,objectWithoutProperties.Z)(_ref6,_excluded6);return __jsx(index_module.Dx,(0,esm_extends.Z)({ref,className:(0,clsx_m.Z)("text-lg font-semibold text-slate-900",className)},props))}));AlertDialogTitle.displayName=index_module.Dx.displayName;const AlertDialogDescription=react.forwardRef(((_ref7,ref)=>{let{className}=_ref7,props=(0,objectWithoutProperties.Z)(_ref7,_excluded7);return __jsx(index_module.dk,(0,esm_extends.Z)({ref,className:(0,clsx_m.Z)("text-sm text-slate-500","dark:text-slate-400",className)},props))}));AlertDialogDescription.displayName=index_module.dk.displayName;const AlertDialogAction=react.forwardRef(((_ref8,ref)=>{let{className}=_ref8,props=(0,objectWithoutProperties.Z)(_ref8,_excluded8);return __jsx(index_module.aU,(0,esm_extends.Z)({ref,className:(0,clsx_m.Z)("inline-flex h-10 items-center justify-center rounded-md  py-2 px-4 text-sm font-semibold  transition-colors  disabled:cursor-not-allowed disabled:opacity-50 ",className)},props))}));AlertDialogAction.displayName=index_module.aU.displayName;react.forwardRef(((_ref9,ref)=>{let{className}=_ref9,props=(0,objectWithoutProperties.Z)(_ref9,_excluded9);return __jsx(index_module.$j,(0,esm_extends.Z)({ref,className:(0,clsx_m.Z)("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-slate-200 bg-transparent py-2 px-4 text-sm font-semibold text-slate-900 transition-colors hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 sm:mt-0",className)},props))})).displayName=index_module.$j.displayName;try{AlertDialogHeader.displayName="AlertDialogHeader",AlertDialogHeader.__docgenInfo={description:"",displayName:"AlertDialogHeader",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/AlertDialog/alert-dialog.tsx#AlertDialogHeader"]={docgenInfo:AlertDialogHeader.__docgenInfo,name:"AlertDialogHeader",path:"components/molecules/AlertDialog/alert-dialog.tsx#AlertDialogHeader"})}catch(__react_docgen_typescript_loader_error){}var popover=__webpack_require__("./components/molecules/Popover/popover.tsx"),calendar=__webpack_require__("./components/molecules/Calendar/calendar.tsx"),card_repo_list=__webpack_require__("./components/molecules/CardRepoList/card-repo-list.tsx"),dev_to_social_img=__webpack_require__("./components/molecules/DevToSocialImage/dev-to-social-img.tsx"),contributor_highlight_card_console=__webpack_require__("./node_modules/console-browserify/index.js"),contributor_highlight_card_jsx=react.createElement;function contributor_highlight_card_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function contributor_highlight_card_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?contributor_highlight_card_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):contributor_highlight_card_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const ContributorHighlightCard=_ref=>{var _highlight$desc,_loggedInUser$user_me;let{title,desc,highlightLink,user,id,refreshCallBack,emojis,type="pull_request",shipped_date,taggedRepos}=_ref;const{toast}=(0,useToast.pm)(),formattedTaggedRepos=(taggedRepos||[]).map((repo=>{const[repoOwner,repoName]=repo.split("/");return{repoName,repoOwner,repoIcon:(0,github.cc)(repoOwner,60)}})),twitterTweet="".concat(title||"Open Source Highlight"," - OpenSauced from ").concat(user),reportSubject="Reported Highlight ".concat(user,": ").concat(title),{0:highlight,1:setHighlight}=(0,react.useState)({title,desc,highlightLink}),{0:wordCount,1:setWordCount}=(0,react.useState)((null===(_highlight$desc=highlight.desc)||void 0===_highlight$desc?void 0:_highlight$desc.length)||0),{0:errorMsg,1:setError}=(0,react.useState)(""),{0:loading,1:setLoading}=(0,react.useState)(!1),{user:loggedInUser,sessionToken,signIn,providerToken}=(0,useSupabaseAuth.Z)(),{0:openEdit,1:setOpenEdit}=(0,react.useState)(!1),{0:alertOpen,1:setAlertOpen}=(0,react.useState)(!1),{0:deleteLoading,1:setDeleteLoading}=(0,react.useState)(!1),{0:taggedRepoList,1:setTaggedRepoList}=(0,react.useState)(formattedTaggedRepos),{0:taggedRepoSearchTerm,1:setTaggedRepoSearchTerm}=(0,react.useState)(""),{0:repoTagSuggestions,1:setRepoTagSuggestions}=(0,react.useState)([]),{0:tagRepoSearchLoading,1:setTagRepoSearchLoading}=(0,react.useState)(!1),{0:addTaggedRepoFormOpen,1:setAddTaggedRepoFormOpen}=(0,react.useState)(!1),{0:host,1:setHost}=(0,react.useState)(""),{0:dropdownOpen,1:setDropdownOpen}=(0,react.useState)(!1),{0:emojiDropdownOpen,1:setEmojiDropdownOpen}=(0,react.useState)(!1),{follow,unFollow,isError}=(0,useFollowUser.Z)(dropdownOpen&&(null==loggedInUser?void 0:loggedInUser.user_metadata.user_name)!==user?user:""),{0:popoverOpen,1:setPopoverOpen}=(0,react.useState)(!1),popoverContentRef=react.useRef(null),dropdownRef=react.useRef(null),{0:date,1:setDate}=(0,react.useState)(shipped_date?new Date(shipped_date):void 0),{data:reactions,mutate}=hooks_useHighlightReactions(id),{data:userReaction,deleteReaction,addReaction}=hooks_useUserHighlightReactions(sessionToken?id:""),posthog=(0,esm.U0)();(0,react.useEffect)((()=>{openEdit||setTimeout((()=>{document.body.setAttribute("style","pointer-events:auto !important")}),1)}),[openEdit]),(0,react.useEffect)((()=>{if(highlight.highlightLink&&((0,github.qm)(highlight.highlightLink)||(0,github.o8)(highlight.highlightLink))){const{apiPaths}=(0,github.ny)(highlight.highlightLink),{repoName,orgName,issueId}=apiPaths,repoIcon=(0,github.cc)(null!=orgName?orgName:"github",60);if(taggedRepoList.some((repo=>repo.repoName===repoName)))return;const newRepo={repoName,repoOwner:orgName,repoIcon},newTaggedRepoList=[...taggedRepoList,newRepo];setTaggedRepoList(newTaggedRepoList)}}),[highlight.highlightLink]),(0,react.useEffect)((()=>{setDate(shipped_date?new Date(shipped_date):void 0)}),[shipped_date]);const isUserReaction=id=>!!(sessionToken&&userReaction.find((reaction=>reaction.emoji_id===id))),handleClickOutsidePopoverContent=e=>{popoverContentRef.current&&!popoverContentRef.current.contains(e.target)&&setPopoverOpen(!1)},handleClickOutsideDropdownContent=e=>{dropdownRef.current&&!dropdownRef.current.contains(e.target)&&setDropdownOpen(!1)};(0,react.useEffect)((()=>(document.addEventListener("mousedown",handleClickOutsidePopoverContent),()=>{document.removeEventListener("mousedown",handleClickOutsidePopoverContent)})),[popoverOpen]),(0,react.useEffect)((()=>(document.addEventListener("mousedown",handleClickOutsideDropdownContent),()=>{document.removeEventListener("mousedown",handleClickOutsideDropdownContent)})),[dropdownOpen]);const getEmojiReactors=reaction_users=>Array.isArray(reaction_users)?reaction_users.length>3?"".concat(reaction_users.slice(0,3).join(", ")," and ").concat(reaction_users.length-3," others"):3==reaction_users.length?"".concat(reaction_users.slice(0,2).join(", ")," and ").concat(reaction_users[2]):2==reaction_users.length?"".concat(reaction_users[0]," and ").concat(reaction_users[1]):1===reaction_users.length?"".concat(reaction_users[0]):void 0:"",getEmojiNameById=id=>emojis&&emojis.length>0?emojis.filter((emoji=>emoji.id===id))[0].name:"",handleUpdateReaction=async id=>{isUserReaction(id)?(await deleteReaction(id),mutate()):(await addReaction(id),mutate())},handleCaptureClickDetailsForAnalytics=medium=>{let text;text="linkedin"===medium?"highlight shared to linkedin":"twitter"===medium?"higlight tweeted":"highlight copied",posthog.capture("clicked: ".concat(text))};let repos=[];if(!taggedRepos||0===taggedRepos.length&&highlightLink.includes("github.com")){const{owner:repoOwner,repoName}=(0,github.Ty)(highlightLink);repos=[{repoName,repoOwner,repoIcon:(0,github.cc)(repoOwner,60)}]}else repos=taggedRepos.map((repo=>{const[repoOwner,repoName]=repo.split("/");return{repoName,repoOwner,repoIcon:(0,github.cc)(repoOwner,60)}}));const getHighlightTypePreset=type=>{switch(type){case"pull_request":return{text:"Pull request",icon:contributor_highlight_card_jsx(bi.XeX,{className:"text-md md:text-lg"})};case"blog_post":return{text:highlightLink.includes("dev.to")?"DevTo post":"Blog post",icon:contributor_highlight_card_jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6"},contributor_highlight_card_jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"}))};case"issue":return{text:"Issue",icon:contributor_highlight_card_jsx(vsc.gL2,{className:"text-lg md:text-xl"})};default:return{text:"Pull request",icon:contributor_highlight_card_jsx(bi.XeX,{className:"text-lg md:text-xl"})}}},{icon,text}=getHighlightTypePreset(type),taggedRepoFullNames=taggedRepoList.map((repo=>"".concat(repo.repoOwner,"/").concat(repo.repoName))),handleDeleteHighlight=async()=>{setDeleteLoading(!0);const res=await(async id=>{var _sessionResponse$data;const sessionResponse=await supabase.O.auth.getSession(),sessionToken=null==sessionResponse||null===(_sessionResponse$data=sessionResponse.data.session)||void 0===_sessionResponse$data?void 0:_sessionResponse$data.access_token;try{const res=await fetch("".concat("https://beta.api.opensauced.pizza/v2","/user/highlights/").concat(id),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionToken)},method:"DELETE"});if(res.ok)return!0;{const error=new Error("HttpError");throw error.message="".concat(res.status," ").concat(res.statusText),error.stack=JSON.stringify(await res.json()),error}}catch(e){return deleteHighlight_console.log(e),!1}})(id);setDeleteLoading(!1),!1!==res?(toast({description:"Highlights deleted Successfully",variant:"success"}),refreshCallBack&&refreshCallBack(),setAlertOpen(!1),setOpenEdit(!1),setTimeout((()=>{document.body.setAttribute("style","pointer-events:auto !important")}),1)):(contributor_highlight_card_console.error(res),setAlertOpen(!1),toast({description:"An error occured!",variant:"danger"}))},updateSuggestionsDebounced=(0,useDebounce.N)((async()=>{setTagRepoSearchLoading(!0);const req=await fetch("https://api.github.com/search/repositories?q=".concat(encodeURIComponent("".concat(taggedRepoSearchTerm," in:name in:repo:owner/name sort:updated"))),contributor_highlight_card_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}));if(setTagRepoSearchLoading(!1),req.ok){const suggestions=(await req.json()).items.map((item=>item.full_name));setRepoTagSuggestions(suggestions)}}),250);return(0,react.useEffect)((()=>{setRepoTagSuggestions([]),taggedRepoSearchTerm&&updateSuggestionsDebounced()}),[taggedRepoSearchTerm]),(0,react.useEffect)((()=>{void 0!==window&&setHost(window.location.origin)}),[]),contributor_highlight_card_jsx("article",{className:"w-full flex flex-col flex-1 gap-3 md:max-w-[40rem] lg:gap-6 lg:max-w-[29rem] 2xl:max-w-[34rem]"},contributor_highlight_card_jsx("div",null,contributor_highlight_card_jsx("div",{className:(0,clsx_m.Z)("flex items-center mb-4 gap-1 text-light-slate-11",title&&"mb-2")},icon,contributor_highlight_card_jsx("span",{className:"text-sm text-light-slate-11"},getHighlightTypePreset(type).text),contributor_highlight_card_jsx("div",{className:"flex items-center gap-3 ml-auto lg:gap-3"},contributor_highlight_card_jsx(dropdown.h_,{open:dropdownOpen,modal:!1},contributor_highlight_card_jsx("div",{className:"flex items-center gap-3 w-max"},contributor_highlight_card_jsx(tooltip.Z,{direction:"top",content:"share on twitter"},contributor_highlight_card_jsx("a",{onClick:()=>{handleCaptureClickDetailsForAnalytics("twitter")},target:"_blank",href:"https://twitter.com/intent/tweet?text=".concat(twitterTweet,"&url=").concat(host,"/feed/").concat(id),className:"flex items-center p-3 transition rounded-full hover:bg-light-orange-5"},contributor_highlight_card_jsx(fa6.LCd,{className:"text-lg text-light-orange-9 md:text-xl"}))),contributor_highlight_card_jsx(dropdown.$F,{onClick:()=>setDropdownOpen(!dropdownOpen),className:"py-2 px-2 rounded-full data-[state=open]:bg-light-slate-7"},contributor_highlight_card_jsx(tfi.j03,{className:"fill-light-slate-11",size:24}))),contributor_highlight_card_jsx(dropdown.AW,{ref:dropdownRef,align:"end",className:"flex flex-col gap-1 py-2 rounded-lg"},contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md"},contributor_highlight_card_jsx("a",{onClick:()=>{handleCaptureClickDetailsForAnalytics("linkedin")},target:"_blank",href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(host,"/feed/").concat(id),className:"flex gap-2.5 py-1 items-center pl-3 pr-7"},contributor_highlight_card_jsx(fi.qOw,{size:22}),contributor_highlight_card_jsx("span",null,"Share to Linkedin"))),contributor_highlight_card_jsx(dropdown.Xi,{onClick:()=>{(async content=>{const url=new URL(content).toString();handleCaptureClickDetailsForAnalytics("link");try{const shortUrl=await(0,shorten_url.X)(url);(0,write_to_clipboard.l)(shortUrl),toast({description:"Copied to clipboard",variant:"success"})}catch(error){contributor_highlight_card_console.log(error)}})("".concat(host,"/feed/").concat(id)),setDropdownOpen(!1)},className:"rounded-md"},contributor_highlight_card_jsx("div",{className:"flex gap-2.5 py-1 items-center pl-3 pr-7 cursor-pointer"},contributor_highlight_card_jsx(bs.Gzp,{size:22}),contributor_highlight_card_jsx("span",null,"Copy link"))),loggedInUser?contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md ".concat((null==loggedInUser||null===(_loggedInUser$user_me=loggedInUser.user_metadata)||void 0===_loggedInUser$user_me?void 0:_loggedInUser$user_me.user_name)===user&&"hidden")},contributor_highlight_card_jsx("div",{onClick:isError?follow:unFollow,className:"flex gap-2.5 py-1 items-center pl-3 pr-7 cursor-pointer"},contributor_highlight_card_jsx(fa.Bj$,{size:22}),contributor_highlight_card_jsx("span",null,isError?"Follow":"Unfollow"," ",user))):contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md"},contributor_highlight_card_jsx("div",{onClick:async()=>signIn({provider:"github"}),className:"flex gap-2.5 py-1  items-center pl-3 pr-7"},contributor_highlight_card_jsx(fa.Bj$,{size:22}),contributor_highlight_card_jsx("span",null,"Follow ",user))),loggedInUser&&contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md ".concat(loggedInUser&&loggedInUser.user_metadata.user_name!==user&&"hidden")},contributor_highlight_card_jsx("button",{onClick:()=>{setOpenEdit(!0),setDropdownOpen(!1)},className:"flex w-full cursor-default gap-2.5 py-1  items-center pl-3 pr-7"},contributor_highlight_card_jsx(fi.vPQ,{size:22}),contributor_highlight_card_jsx("span",null,"Edit"))),contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md ".concat(loggedInUser&&loggedInUser.user_metadata.user_name===user&&"hidden")},contributor_highlight_card_jsx("a",{href:"mailto:hello@opensauced.pizza?subject=".concat(reportSubject),className:"flex gap-2.5 py-1  items-center pl-3 pr-7"},contributor_highlight_card_jsx(gr.KLf,{size:22}),contributor_highlight_card_jsx("span",null,"Report content"))))))),contributor_highlight_card_jsx("div",{className:"flex items-center justify-between w-full"},contributor_highlight_card_jsx("div",{className:"flex items-center justify-between gap-1 pr-2"},title&&contributor_highlight_card_jsx(Typography_title.Z,{className:"!text-sm  break-words lg:!text-xl !text-light-slate-12",level:4},title))),contributor_highlight_card_jsx("p",{className:"text-sm font-normal break-words text-light-slate-12 lg:text-base"},desc),contributor_highlight_card_jsx("div",{className:"flex"},contributor_highlight_card_jsx("a",{href:highlightLink,target:"_blank",className:"flex-1 inline-block underline truncate cursor-pointer text-sauced-orange"},highlightLink))),contributor_highlight_card_jsx("a",{href:highlightLink,target:"_blank","aria-hidden":"true"},"pull_request"===type||"issue"===type?contributor_highlight_card_jsx(gh_open_graph_img.Z,{githubLink:highlightLink}):highlightLink.includes("dev.to")?contributor_highlight_card_jsx(dev_to_social_img.Z,{blogLink:highlightLink}):contributor_highlight_card_jsx(generic_blog_open_graph_img.Z,{blogLink:highlightLink})),contributor_highlight_card_jsx("div",{className:"flex flex-wrap items-center gap-1"},contributor_highlight_card_jsx(dropdown.h_,{modal:!1,open:emojiDropdownOpen},contributor_highlight_card_jsx(dropdown.$F,{className:"p-1 rounded-full data-[state=open]:bg-light-slate-7",onClick:()=>setEmojiDropdownOpen(!emojiDropdownOpen)},contributor_highlight_card_jsx(hi.UUf,{className:"w-5 h-5"})),contributor_highlight_card_jsx(dropdown.AW,{className:"flex flex-row gap-1 rounded-3xl",side:"right",onClick:()=>setEmojiDropdownOpen(!1)},emojis&&emojis.length>0&&emojis.map((_ref2=>{let{id,name}=_ref2;return contributor_highlight_card_jsx(dropdown.Xi,{onClick:async()=>sessionToken?handleUpdateReaction(id):signIn({provider:"github"}),key:id,className:"rounded-full !px-2 !cursor-pointer text-orange-500"},contributor_highlight_card_jsx(lib.ZP,{text:":".concat(name,":")}))})))),reactions&&emojis&&reactions.length>0&&reactions.map((_ref3=>{let{emoji_id,reaction_count,reaction_users}=_ref3;return contributor_highlight_card_jsx(tooltip.Z,{key:emoji_id,direction:"top",content:"".concat(getEmojiReactors(reaction_users)," reacted with ").concat(getEmojiNameById(emoji_id)," emoji")},contributor_highlight_card_jsx("button",{className:"px-1 py-0 md:py-0.5 hover:bg-light-slate-6 transition  md:px-1.5 shrink-0 border flex items-center justify-center rounded-full cursor-pointer ".concat(isUserReaction(emoji_id)&&"bg-light-slate-6"),onClick:async()=>sessionToken?handleUpdateReaction(emoji_id):signIn({provider:"github"})},contributor_highlight_card_jsx(lib.ZP,{className:"text-xs text-orange-500 md:text-sm",text:":".concat(getEmojiNameById(emoji_id),": ").concat(reaction_count)})))})),contributor_highlight_card_jsx("div",{className:"ml-auto"},contributor_highlight_card_jsx(card_repo_list.Z,{repoList:repos}))),contributor_highlight_card_jsx(dialog.Vq,{open:openEdit,onOpenChange:setOpenEdit},contributor_highlight_card_jsx(dialog.cZ,{className:"p-4"},contributor_highlight_card_jsx(dialog.fK,null,contributor_highlight_card_jsx(dialog.$N,null,"Edit Your Highlight"),contributor_highlight_card_jsx(dialog.Be,{className:"font-normal"},"Make changes to your highlights here. Click save when you're done.")),contributor_highlight_card_jsx("form",{onSubmit:async e=>{e.preventDefault();const highlightLink=highlight.highlightLink.trim();if(wordCount>500)setError("Character limit exceeded");else if((0,github.qm)(highlightLink)||(0,github.o8)(highlightLink)||(0,dev_to.M)(highlightLink)||(0,urls.jv)(highlightLink)){const{apiPaths}=(0,github.ny)(highlight.highlightLink),{repoName,orgName,issueId}=apiPaths;setLoading(!0);let res={};const isIssue=(0,github.o8)(highlightLink),highlightType=(0,github.o8)(highlightLink)?"issue":(0,github.qm)(highlightLink)?"pull_request":"blog_post";if(res="issue"===highlightType||"pull_request"===highlightType?isIssue?await(0,fetchGithubIssueInfo.x)(orgName,repoName,issueId):await(0,fetchGithubPRInfo.U)(orgName,repoName,issueId):await(0,fetchDevToBlogInfo.s)(highlightLink),res.isError)return setLoading(!1),void setError("A valid Pull request, Issue or Blogpost Link is required");{const res=await(async(data,id)=>{var _sessionResponse$data;const sessionResponse=await supabase.O.auth.getSession(),sessionToken=null==sessionResponse||null===(_sessionResponse$data=sessionResponse.data.session)||void 0===_sessionResponse$data?void 0:_sessionResponse$data.access_token;try{const res=await fetch("".concat("https://beta.api.opensauced.pizza/v2","/user/highlights/").concat(id),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionToken)},method:"PATCH",body:JSON.stringify(_objectSpread({},data))});return!!res.ok&&res.json()}catch(e){return console.log(e),!1}})({url:highlight.highlightLink,highlight:highlight.desc||"",title:highlight.title,shipped_at:date,type:highlightType,taggedRepos:taggedRepoFullNames||[]},id);setLoading(!1),res?(toast({description:"Highlights Updated Successfully",variant:"success"}),setDate(void 0),refreshCallBack&&refreshCallBack(),setOpenEdit(!1)):(setLoading(!1),setError("An error occurred while updating!"))}}else setError("Please provide a valid GitHub issue or pull request url")},className:"flex flex-col flex-1 gap-4 font-normal "},contributor_highlight_card_jsx("div",{className:"flex flex-col gap-2 p-2 overflow-hidden text-sm rounded-lg "},errorMsg&&contributor_highlight_card_jsx("p",{className:"inline-flex items-center gap-2 px-2 py-1 mb-4 text-red-500 bg-red-100 border border-red-500 rounded-md w-max"},contributor_highlight_card_jsx(md.vVM,{size:20})," ",errorMsg),contributor_highlight_card_jsx("fieldset",{className:"flex flex-col w-full gap-1"},contributor_highlight_card_jsx("label",{htmlFor:"description"},"Body"),contributor_highlight_card_jsx("div",{className:"bg-white rounded-lg focus-within:border"},contributor_highlight_card_jsx(text_area.g,{value:highlight.desc,onChange:e=>{setHighlight((prev=>contributor_highlight_card_objectSpread(contributor_highlight_card_objectSpread({},prev),{},{desc:e.target.value}))),setError(""),setWordCount(e.target.value.length)},className:"px-2 mb-2 font-normal transition rounded-lg resize-y min-h-[90px]  max-h-96 h-28 text-light-slate-11 focus:outline-none"}),contributor_highlight_card_jsx("div",{className:"flex items-center justify-between py-1 pl-3"},contributor_highlight_card_jsx(tooltip.Z,{direction:"top",content:"Pick a date"},contributor_highlight_card_jsx(popover.J2,{open:popoverOpen},contributor_highlight_card_jsx(popover.xo,{asChild:!0},contributor_highlight_card_jsx("button",{onClick:()=>setPopoverOpen(!popoverOpen),className:"flex items-center gap-2 text-base text-light-slate-9"},contributor_highlight_card_jsx(bs.uis,{className:"text-light-slate-9"}),date&&contributor_highlight_card_jsx("span",{className:"text-xs"},(0,format.Z)(date,"PPP")))),contributor_highlight_card_jsx(popover.yk,{ref:popoverContentRef,className:"w-auto p-0 bg-white pointer-events-auto"},contributor_highlight_card_jsx(calendar.f,{toDate:new Date,mode:"single",selected:date,onSelect:date=>{setDate(date),setPopoverOpen(!1)},className:"border rounded-md"})))),contributor_highlight_card_jsx("p",{className:"flex justify-end gap-1 px-2 text-xs text-light-slate-9"},contributor_highlight_card_jsx("span",{className:"".concat(wordCount>500&&"text-red-600")},wordCount>500?"-".concat(wordCount-500):wordCount),"/ ",contributor_highlight_card_jsx("span",null,500))))),contributor_highlight_card_jsx("fieldset",{className:"flex flex-col w-full gap-1"},contributor_highlight_card_jsx("label",{htmlFor:"title"},"Highlight link"),contributor_highlight_card_jsx("input",{onChange:e=>{setHighlight((prev=>contributor_highlight_card_objectSpread(contributor_highlight_card_objectSpread({},prev),{},{highlightLink:e.target.value}))),setError("")},value:highlight.highlightLink,name:"title",className:"h-8 px-2 font-normal text-orange-600 rounded-lg focus:outline-none focus:border "})),contributor_highlight_card_jsx("label",{htmlFor:"title"},"Tagged Repos"),contributor_highlight_card_jsx("div",{className:"flex items-center justify-between w-full gap-1 p-1 text-sm bg-white  rounded-lg mb-4"},contributor_highlight_card_jsx("div",{className:"flex w-full gap-1"},contributor_highlight_card_jsx(card_repo_list.Z,{repoList:taggedRepoList,deletable:!0,onDelete:repoName=>(repoName=>{const newTaggedRepoList=taggedRepoList.filter((repo=>repo.repoName!==repoName));setTaggedRepoList(newTaggedRepoList)})(repoName)}),contributor_highlight_card_jsx(AlertDialog,{open:addTaggedRepoFormOpen,onOpenChange:prev=>!prev},contributor_highlight_card_jsx(AlertDialogTrigger,{asChild:!0},contributor_highlight_card_jsx(tooltip.Z,{content:"Add a repo"},contributor_highlight_card_jsx("button",{onClick:e=>{e.preventDefault(),setAddTaggedRepoFormOpen(!0)},className:"flex gap-1  p-1 pr-2 border-[1px] border-light-slate-6 rounded-lg text-light-slate-12 items-center cursor-pointer"},contributor_highlight_card_jsx(bs.ra4,{className:"rounded-[4px] overflow-hidden"}),contributor_highlight_card_jsx("span",{className:"max-w-[45px] md:max-w-[100px] truncate"},"Add a repo")))),contributor_highlight_card_jsx(AlertDialogContent,{className:"z-100"},contributor_highlight_card_jsx(search.Z,{isLoading:tagRepoSearchLoading,placeholder:"Repository Full Name (ex: open-sauced/open-sauced)",className:"!w-full text-md text-gra",name:"query",suggestions:repoTagSuggestions,onChange:value=>setTaggedRepoSearchTerm(value),onSearch:search=>setTaggedRepoSearchTerm(search)}),contributor_highlight_card_jsx("div",{className:"flex justify-end gap-2"},contributor_highlight_card_jsx(Button_button.Z,{variant:"default",onClick:()=>setAddTaggedRepoFormOpen(!1)},"Cancel"),contributor_highlight_card_jsx(Button_button.Z,{variant:"primary",onClick:()=>{setAddTaggedRepoFormOpen(!1),(async repoFullName=>{if(taggedRepoList.length>=3)setError("You can only tag up to 3 repos!");else if(taggedRepoList.some((repo=>"".concat(repo.repoOwner,"/").concat(repo.repoName)===repoFullName)))setError("Repo already tagged!");else try{if(!(await fetch("".concat("https://beta.api.opensauced.pizza/v2","/repos/").concat(repoFullName))).ok&&!(await fetch("https://api.github.com/repos/".concat(repoFullName),contributor_highlight_card_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}))).ok)return void setError("Repo does not exist!");const[ownerName,repoName]=repoFullName.split("/"),repoIcon=(0,github.cc)(ownerName,60),newTaggedRepoList=[...taggedRepoList,{repoName,repoOwner:ownerName,repoIcon}];setTaggedRepoList(newTaggedRepoList),toast({description:"Repo tag added!",title:"Success",variant:"success"})}catch(e){contributor_highlight_card_console.error(e),setError("An error occured!")}})(taggedRepoSearchTerm)},disabled:!taggedRepoSearchTerm},"Add"))))))),contributor_highlight_card_jsx("div",{className:"flex gap-3"},contributor_highlight_card_jsx(AlertDialog,{open:alertOpen,onOpenChange:setAlertOpen},contributor_highlight_card_jsx(AlertDialogTrigger,{asChild:!0,className:"ml-auto"},contributor_highlight_card_jsx(Button_button.Z,{className:"text-red-600 border bg-light-red-7 border-light-red-400 hover:bg-light-red-8 hover:text-red-700",variant:"primary"},"Delete Highlight")),contributor_highlight_card_jsx(AlertDialogContent,null,contributor_highlight_card_jsx(AlertDialogHeader,null,contributor_highlight_card_jsx(AlertDialogTitle,null,"Are you absolutely sure?"),contributor_highlight_card_jsx(AlertDialogDescription,null,"This action cannot be undone. This will permanently delete your Highlight and remove related data from our database.")),contributor_highlight_card_jsx(AlertDialogFooter,null,contributor_highlight_card_jsx("div",{className:"flex items-center justify-end gap-3"},contributor_highlight_card_jsx(AlertDialogAction,{asChild:!0,onClick:()=>setAlertOpen(!1)},contributor_highlight_card_jsx(Button_button.Z,{className:"ml-auto",variant:"text"},"Cancel")),contributor_highlight_card_jsx(AlertDialogAction,{asChild:!0},contributor_highlight_card_jsx(Button_button.Z,{loading:deleteLoading,className:"text-red-600 bg-red-300 border border-red-400 hover:bg-light-red-8 hover:text-red-700",variant:"text",onClick:()=>handleDeleteHighlight()},"Confirm")))))),contributor_highlight_card_jsx(Button_button.Z,{loading,variant:"primary"},"Save"))),contributor_highlight_card_jsx(dialog.iK,{onClick:()=>setOpenEdit(!1)}))))};ContributorHighlightCard.displayName="ContributorHighlightCard";const contributor_highlight_card=ContributorHighlightCard;try{contributorhighlightcard.displayName="contributorhighlightcard",contributorhighlightcard.__docgenInfo={description:"",displayName:"contributorhighlightcard",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},desc:{defaultValue:null,description:"",name:"desc",required:!1,type:{name:"string"}},highlightLink:{defaultValue:null,description:"",name:"highlightLink",required:!0,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},shipped_date:{defaultValue:null,description:"",name:"shipped_date",required:!0,type:{name:"string"}},refreshCallBack:{defaultValue:null,description:"",name:"refreshCallBack",required:!1,type:{name:"(() => void)"}},emojis:{defaultValue:null,description:"",name:"emojis",required:!0,type:{name:"DbEmojis[]"}},type:{defaultValue:{value:"pull_request"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"pull_request"'},{value:'"issue"'},{value:'"blog_post"'}]}},taggedRepos:{defaultValue:null,description:"",name:"taggedRepos",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/ContributorHighlight/contributor-highlight-card.tsx#contributorhighlightcard"]={docgenInfo:contributorhighlightcard.__docgenInfo,name:"contributorhighlightcard",path:"components/molecules/ContributorHighlight/contributor-highlight-card.tsx#contributorhighlightcard"})}catch(__react_docgen_typescript_loader_error){}},"./lib/hooks/useFollowUser.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var swr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),lib_utils_public_api_fetcher__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./lib/utils/public-api-fetcher.ts"),_useSupabaseAuth__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");const __WEBPACK_DEFAULT_EXPORT__=username=>{const{sessionToken,user}=(0,_useSupabaseAuth__WEBPACK_IMPORTED_MODULE_2__.Z)(),{mutate:mutateGlobal}=(0,swr__WEBPACK_IMPORTED_MODULE_0__.kY)(),{data,error,mutate}=(0,swr__WEBPACK_IMPORTED_MODULE_0__.ZP)(username?"users/".concat(username,"/follow"):null,lib_utils_public_api_fetcher__WEBPACK_IMPORTED_MODULE_1__.N);return{data:data||void 0,isLoading:!error&&!data,isError:!!error,mutate,follow:async()=>{const req=await fetch("".concat("https://beta.api.opensauced.pizza/v2","/users/").concat(username,"/follow"),{method:"PUT",headers:{Authorization:"Bearer ".concat(sessionToken)}}).catch((err=>console.log(err)));var _user$user_metadata;req&&req.ok&&(mutate(),mutateGlobal("user/".concat(null==user||null===(_user$user_metadata=user.user_metadata)||void 0===_user$user_metadata?void 0:_user$user_metadata.username)))},unFollow:async()=>{const req=await fetch("".concat("https://beta.api.opensauced.pizza/v2","/users/").concat(username,"/follow"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(sessionToken)}}).catch((err=>console.log(err)));var _user$user_metadata2;req&&req.ok&&(mutate(),mutateGlobal("user/".concat(null==user||null===(_user$user_metadata2=user.user_metadata)||void 0===_user$user_metadata2?void 0:_user$user_metadata2.username)))}}}},"./lib/utils/public-api-fetcher.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>expPublicApiFetcher,N:()=>publicApiFetcher});var _supabase__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./lib/utils/supabase.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");const publicApiFetcher=async apiUrl=>await apiFetcher("https://beta.api.opensauced.pizza/v2",apiUrl),expPublicApiFetcher=async apiUrl=>await apiFetcher("https://beta.api.opensauced.pizza/v2",apiUrl),apiFetcher=async(baseUrl,apiUrl)=>{var _sessionResponse$data;const sessionResponse=await _supabase__WEBPACK_IMPORTED_MODULE_0__.O.auth.getSession(),sessionToken=null==sessionResponse||null===(_sessionResponse$data=sessionResponse.data.session)||void 0===_sessionResponse$data?void 0:_sessionResponse$data.access_token,res=await fetch("".concat(baseUrl,"/").concat(apiUrl),{headers:{accept:"application/json",Authorization:"Bearer ".concat(sessionToken)}});if(!res.ok){const error=new Error("HttpError");throw error.message="".concat(res.status," ").concat(res.statusText),error.stack=JSON.stringify(await res.json()),console.error(error),error}return res.json()}},"./lib/utils/shorten-url.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>shortenUrl});var _sentry_nextjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@sentry/core/esm/exports.js");async function shortenUrl(url){try{const response=await fetch("".concat("https://beta.api.opensauced.pizza/v2","/url/shorten?url=").concat(encodeURIComponent(url)));if(response.ok){return(await response.json()).shortUrl}}catch(e){_sentry_nextjs__WEBPACK_IMPORTED_MODULE_0__.Tb(new Error("Failed to shorten URL ".concat(url),{cause:e}))}return url}},"./lib/utils/write-to-clipboard.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{async function writeToClipboard(url){setTimeout((async()=>await navigator.clipboard.writeText(url)))}__webpack_require__.d(__webpack_exports__,{l:()=>writeToClipboard})}}]);