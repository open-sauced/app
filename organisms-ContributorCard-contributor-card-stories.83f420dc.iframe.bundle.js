"use strict";(self.webpackChunk_open_sauced_insights=self.webpackChunk_open_sauced_insights||[]).push([[8794],{"./components/organisms/ContributorCard/contributor-card.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithoutRepositories:()=>WithoutRepositories,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _WithoutRepositories$,_WithoutRepositories$2,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_contributor_card__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/organisms/ContributorCard/contributor-card.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const baseContributor=Object.freeze({profile:{githubAvatar:"https://avatars.githubusercontent.com/u/5713670?v=4",githubName:"bdougie",dateOfFirstPR:new Date("2020-01-01").toISOString()}}),__WEBPACK_DEFAULT_EXPORT__={title:"Design System/Organisms/Contributor Card",component:_contributor_card__WEBPACK_IMPORTED_MODULE_2__.Z},WithoutRepositories={render:()=>__jsx(_contributor_card__WEBPACK_IMPORTED_MODULE_2__.Z,{contributor:baseContributor,topic:""})};WithoutRepositories.parameters=_objectSpread(_objectSpread({},WithoutRepositories.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_WithoutRepositories$=WithoutRepositories.parameters)||void 0===_WithoutRepositories$?void 0:_WithoutRepositories$.docs),{},{source:_objectSpread({originalSource:'{\n  render: () => <ContributorCard contributor={baseContributor} topic={""} />\n}'},null===(_WithoutRepositories$2=WithoutRepositories.parameters)||void 0===_WithoutRepositories$2||null===(_WithoutRepositories$2=_WithoutRepositories$2.docs)||void 0===_WithoutRepositories$2?void 0:_WithoutRepositories$2.source)})});const __namedExportsOrder=["WithoutRepositories"]},"./components/atoms/Card/card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const Card=_ref=>{let{className,children,heading}=_ref;return __jsx("article",{className:"".concat(className||""," block ").concat(heading?"":"p-3"," bg-white border rounded-lg shadow-xs")},heading?__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx("div",{className:"px-3 md:px-6 py-3 rounded-t-lg bg-light-slate-3"},heading),__jsx("div",null,children)):children)};Card.displayName="Card";const __WEBPACK_DEFAULT_EXPORT__=Card;try{card.displayName="card",card.__docgenInfo={description:"",displayName:"card",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},heading:{defaultValue:null,description:"",name:"heading",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Card/card.tsx#card"]={docgenInfo:card.__docgenInfo,name:"card",path:"components/atoms/Card/card.tsx#card"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/EChartWrapper/echart-wrapper.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),echarts_for_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts-for-react/esm/index.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const EChartWrapper=_ref=>{let{option,className}=_ref;return __jsx(echarts_for_react__WEBPACK_IMPORTED_MODULE_1__.Z,{option,className:className||"",notMerge:!0,lazyUpdate:!0,theme:"theme_name"})};EChartWrapper.displayName="EChartWrapper";const __WEBPACK_DEFAULT_EXPORT__=EChartWrapper;try{echartwrapper.displayName="echartwrapper",echartwrapper.__docgenInfo={description:"",displayName:"echartwrapper",props:{option:{defaultValue:null,description:"",name:"option",required:!0,type:{name:"Object"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/EChartWrapper/echart-wrapper.tsx#echartwrapper"]={docgenInfo:echartwrapper.__docgenInfo,name:"echartwrapper",path:"components/atoms/EChartWrapper/echart-wrapper.tsx#echartwrapper"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/CardHorizontalBarChart/card-horizontal-bar-chart.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),components_atoms_Typography_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/atoms/Typography/text.tsx"),components_atoms_Tooltip_tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/atoms/Tooltip/tooltip.tsx"),_lib_utils_color_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./lib/utils/color.json"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const languageToColor=_lib_utils_color_json__WEBPACK_IMPORTED_MODULE_3__,CardHorizontalBarChart=_ref=>{var _sortedLangArray$;let{languageList,withDescription}=_ref;const sortedLangArray=languageList.sort(((a,b)=>b.percentageUsed-a.percentageUsed)),{0:percentage,1:setPercentage}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),{0:descriptText,1:setDescriptText}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((null===(_sortedLangArray$=sortedLangArray[0])||void 0===_sortedLangArray$?void 0:_sortedLangArray$.languageName)||"javascript");return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(0===sortedLangArray.length)return;const totalSumOfFirstFivePercentage=sortedLangArray.slice(0,4).map((lang=>lang.percentageUsed)).reduce(((prev,next)=>prev+next));setPercentage(totalSumOfFirstFivePercentage)}),[percentage,sortedLangArray]),__jsx("div",{className:"flex flex-col gap-1 min-w-[120px]"},__jsx("div",{className:"flex items-center w-full justify-end rounded-full gap-0.5 overflow-hidden"},sortedLangArray.map(((_ref2,index)=>{let{languageName,percentageUsed}=_ref2;return index<5&&__jsx("div",{key:index,onMouseOver:()=>(descriptText=>{setDescriptText(descriptText)})(languageName),className:"h-2 transition-all duration-500 ease-in-out",style:{width:"".concat(percentageUsed<20?percentageUsed/percentage*100:percentageUsed,"%"),backgroundColor:languageToColor[languageName]?languageToColor[languageName].color:"#64748B"}})}))),withDescription&&__jsx("div",{className:"flex gap-2 w-32 items-baseline"},__jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:languageToColor[descriptText]?languageToColor[descriptText].color:"#64748B"}}),__jsx(components_atoms_Tooltip_tooltip__WEBPACK_IMPORTED_MODULE_2__.Z,{className:"max-w-[100px]",content:descriptText},__jsx(components_atoms_Typography_text__WEBPACK_IMPORTED_MODULE_1__.Z,{className:"!text-xs !truncate !font-semibold !text-light-slate-11"},descriptText))))};CardHorizontalBarChart.displayName="CardHorizontalBarChart";const __WEBPACK_DEFAULT_EXPORT__=CardHorizontalBarChart;try{cardhorizontalbarchart.displayName="cardhorizontalbarchart",cardhorizontalbarchart.__docgenInfo={description:"",displayName:"cardhorizontalbarchart",props:{languageList:{defaultValue:null,description:"",name:"languageList",required:!0,type:{name:"LanguageObject[]"}},withDescription:{defaultValue:null,description:"",name:"withDescription",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/CardHorizontalBarChart/card-horizontal-bar-chart.tsx#cardhorizontalbarchart"]={docgenInfo:cardhorizontalbarchart.__docgenInfo,name:"cardhorizontalbarchart",path:"components/molecules/CardHorizontalBarChart/card-horizontal-bar-chart.tsx#cardhorizontalbarchart"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/CardLineChart/card-line-chart.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),components_atoms_EChartWrapper_echart_wrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/atoms/EChartWrapper/echart-wrapper.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{lineChartOption,className}=_ref;return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(components_atoms_EChartWrapper_echart_wrapper__WEBPACK_IMPORTED_MODULE_1__.Z,{option:lineChartOption,className}))};try{cardlinechart.displayName="cardlinechart",cardlinechart.__docgenInfo={description:"",displayName:"cardlinechart",props:{lineChartOption:{defaultValue:null,description:"",name:"lineChartOption",required:!0,type:{name:"Object"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/CardLineChart/card-line-chart.tsx#cardlinechart"]={docgenInfo:cardlinechart.__docgenInfo,name:"cardlinechart",path:"components/molecules/CardLineChart/card-line-chart.tsx#cardlinechart"})}catch(__react_docgen_typescript_loader_error){}},"./components/organisms/ContributorCard/contributor-card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>contributor_card});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),card=__webpack_require__("./components/atoms/Card/card.tsx"),Typography_text=__webpack_require__("./components/atoms/Typography/text.tsx"),card_horizontal_bar_chart=__webpack_require__("./components/molecules/CardHorizontalBarChart/card-horizontal-bar-chart.tsx"),card_line_chart=__webpack_require__("./components/molecules/CardLineChart/card-line-chart.tsx"),card_profile=__webpack_require__("./components/molecules/CardProfile/card-profile.tsx"),card_repo_list=__webpack_require__("./components/molecules/CardRepoList/card-repo-list.tsx"),pull_request_table=__webpack_require__("./components/molecules/PullRequestTable/pull-request-table.tsx"),useContributorPullRequestsChart=__webpack_require__("./lib/hooks/useContributorPullRequestsChart.ts"),useFetchUser=__webpack_require__("./lib/hooks/useFetchUser.ts");const api_useContributorLanguages=username=>{const{data:contributor}=(0,useFetchUser.j)(username),contributorLanguageTotal=Object.keys((null==contributor?void 0:contributor.languages)||{}).reduce(((total,language)=>total+contributor.languages[language]),0);let contributorLanguageList=Object.keys((null==contributor?void 0:contributor.languages)||{}).map((lang=>({languageName:lang,percentageUsed:Math.round((null==contributor?void 0:contributor.languages)[lang]/contributorLanguageTotal*100)}))).filter((lang=>0!==lang.percentageUsed));return 0===contributorLanguageList.length&&(contributorLanguageList=contributorLanguageList.concat({languageName:"javascript",percentageUsed:100})),contributorLanguageList};var badge=__webpack_require__("./components/atoms/Badge/badge.tsx"),__jsx=react.createElement;const ContributorCard=_ref=>{let{className,contributor,topic,repositories,range}=_ref;const{profile}=contributor,{0:showPRs,1:setShowPRs}=(0,react.useState)(!1),{chart,repoList,meta}=(0,useContributorPullRequestsChart.u)(profile.githubName,topic,repositories,range,!0),languageList=api_useContributorLanguages(profile.githubName),{data:user}=(0,useFetchUser.j)(profile.githubName,{revalidateOnFocus:!1}),{is_maintainer:isMaintainer}=null!=user?user:{};return __jsx(card.Z,{className:className&&className},__jsx("div",{className:"flex flex-col gap-3"},__jsx("div",{className:"flex items-center justify-between w-full gap-2"},__jsx(card_profile.Z,(0,esm_extends.Z)({},profile,{totalPRs:meta.itemCount})),__jsx("div",{className:"flex flex-col items-end gap-2"},__jsx(card_horizontal_bar_chart.Z,{withDescription:!1,languageList}),!!isMaintainer&&__jsx(badge.Z,{text:"maintainer"}))),__jsx("div",{className:"h-32"},__jsx(card_line_chart.Z,{lineChartOption:chart})),__jsx(card_repo_list.Z,{repoList,total:repoList.length}),showPRs?__jsx(pull_request_table.Z,{contributor:profile.githubName,topic,repositories,range}):null,__jsx("div",{className:"flex justify-center w-full"},__jsx("button",{onClick:()=>setShowPRs((prevState=>!prevState)),className:"w-full py-1 transition bg-white border rounded-lg border-light-slate-6 hover:bg-light-slate-1"},__jsx(Typography_text.Z,{className:"!text-sm !text-light-slate-11  "},showPRs?"Hide":"Show"," latest pull requests")))))};ContributorCard.displayName="ContributorCard";const contributor_card=ContributorCard;try{contributorcard.displayName="contributorcard",contributorcard.__docgenInfo={description:"",displayName:"contributorcard",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},contributor:{defaultValue:null,description:"",name:"contributor",required:!0,type:{name:"ContributorObject"}},topic:{defaultValue:null,description:"",name:"topic",required:!0,type:{name:"string"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}},range:{defaultValue:null,description:"",name:"range",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/organisms/ContributorCard/contributor-card.tsx#contributorcard"]={docgenInfo:contributorcard.__docgenInfo,name:"contributorcard",path:"components/organisms/ContributorCard/contributor-card.tsx#contributorcard"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/date-fns/esm/differenceInCalendarDays/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>differenceInCalendarDays});var _lib_getTimezoneOffsetInMilliseconds_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),_startOfDay_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/date-fns/esm/startOfDay/index.js"),_lib_requiredArgs_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/esm/_lib/requiredArgs/index.js"),MILLISECONDS_IN_DAY=864e5;function differenceInCalendarDays(dirtyDateLeft,dirtyDateRight){(0,_lib_requiredArgs_index_js__WEBPACK_IMPORTED_MODULE_0__.Z)(2,arguments);var startOfDayLeft=(0,_startOfDay_index_js__WEBPACK_IMPORTED_MODULE_1__.Z)(dirtyDateLeft),startOfDayRight=(0,_startOfDay_index_js__WEBPACK_IMPORTED_MODULE_1__.Z)(dirtyDateRight),timestampLeft=startOfDayLeft.getTime()-(0,_lib_getTimezoneOffsetInMilliseconds_index_js__WEBPACK_IMPORTED_MODULE_2__.Z)(startOfDayLeft),timestampRight=startOfDayRight.getTime()-(0,_lib_getTimezoneOffsetInMilliseconds_index_js__WEBPACK_IMPORTED_MODULE_2__.Z)(startOfDayRight);return Math.round((timestampLeft-timestampRight)/MILLISECONDS_IN_DAY)}},"./node_modules/date-fns/esm/differenceInDays/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>differenceInDays});var _toDate_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/date-fns/esm/toDate/index.js"),_differenceInCalendarDays_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/esm/differenceInCalendarDays/index.js"),_lib_requiredArgs_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function compareLocalAsc(dateLeft,dateRight){var diff=dateLeft.getFullYear()-dateRight.getFullYear()||dateLeft.getMonth()-dateRight.getMonth()||dateLeft.getDate()-dateRight.getDate()||dateLeft.getHours()-dateRight.getHours()||dateLeft.getMinutes()-dateRight.getMinutes()||dateLeft.getSeconds()-dateRight.getSeconds()||dateLeft.getMilliseconds()-dateRight.getMilliseconds();return diff<0?-1:diff>0?1:diff}function differenceInDays(dirtyDateLeft,dirtyDateRight){(0,_lib_requiredArgs_index_js__WEBPACK_IMPORTED_MODULE_0__.Z)(2,arguments);var dateLeft=(0,_toDate_index_js__WEBPACK_IMPORTED_MODULE_1__.Z)(dirtyDateLeft),dateRight=(0,_toDate_index_js__WEBPACK_IMPORTED_MODULE_1__.Z)(dirtyDateRight),sign=compareLocalAsc(dateLeft,dateRight),difference=Math.abs((0,_differenceInCalendarDays_index_js__WEBPACK_IMPORTED_MODULE_2__.Z)(dateLeft,dateRight));dateLeft.setDate(dateLeft.getDate()-sign*difference);var result=sign*(difference-Number(compareLocalAsc(dateLeft,dateRight)===-sign));return 0===result?0:result}},"./node_modules/date-fns/esm/startOfDay/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>startOfDay});var _toDate_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/date-fns/esm/toDate/index.js"),_lib_requiredArgs_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function startOfDay(dirtyDate){(0,_lib_requiredArgs_index_js__WEBPACK_IMPORTED_MODULE_0__.Z)(1,arguments);var date=(0,_toDate_index_js__WEBPACK_IMPORTED_MODULE_1__.Z)(dirtyDate);return date.setHours(0,0,0,0),date}}}]);